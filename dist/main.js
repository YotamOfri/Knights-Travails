(()=>{"use strict";const e=document.querySelector(".board"),t=document.querySelector("#knight-btn"),r=document.createElement("div");function n(t){let s=8-t.target.dataset.x,i=8-t.target.dataset.y;r.style.right=12.5*s+"%",r.style.top=12.5*i+"%",r.style.transform="","end_pos"===t.target.id?t.target.offsetParent.append(r):e.append(r),e.removeEventListener("click",n),e.style.cursor="default"}r.setAttribute("id","knight"),t.addEventListener("click",(()=>{e.style.cursor="pointer",e.removeEventListener("click",i),e.addEventListener("click",n)}));const s=document.createElement("div");function i(t){"knight"===t.target.id?t.target.offsetParent.append(s):t.target.append(s),e.removeEventListener("click",i),e.style.cursor="default"}s.setAttribute("id","end_pos"),document.querySelector("#end-place-btn").addEventListener("click",(()=>{e.style.cursor="pointer",e.removeEventListener("click",n),e.addEventListener("click",i)})),document.querySelector("#start-move-btn").addEventListener("click",(function(){if(document.querySelector("#knight")&&document.querySelector("#end_pos")){let t=8-Math.round(parseInt(r.style.right)/12.5),n=8-Math.round(parseInt(r.style.top)/12.5),i=s.offsetParent.dataset.x,o=s.offsetParent.dataset.y,a=function(e,t){const r=[];r[JSON.stringify(e)]={steps:0,path:""};const n=[e],s=[e];for(;n[0][0]!==t[0]||n[0][1]!==t[1];){let e=n.shift();(i=e,[[i[0]+1,i[1]-2],[i[0]+1,i[1]+2],[i[0]-1,i[1]-2],[i[0]-1,i[1]+2],[i[0]+2,i[1]-1],[i[0]+2,i[1]+1],[i[0]-2,i[1]-1],[i[0]-2,i[1]+1]].filter((e=>e[0]>=1&&e[0]<=8&&e[1]<=8&&e[1]>=1))).forEach((i=>{JSON.stringify(s).includes(JSON.stringify(i))||(n.push(i),s.push(i),r[JSON.stringify(i)]={steps:r[JSON.stringify(e)].steps+1,path:r[JSON.stringify(e)].path+`[${e}]`}),i[0]!==t[0]||i[1]}))}var i;return r[JSON.stringify(t)]}([parseInt(t),parseInt(n)],[parseInt(i),parseInt(o)]),c=function(e){let t=[];for(;e.length>1;){var r=e.substring(10,5).replace(/\[|\]/g,"").split("][");if(0===r[0].length)break;e=e.substring(5),t=[...t,...r.map((function(e){return e.split(",").map(Number)}))]}return t}(a.path+`[${i},${o}]`),l=500;for(let e=0;e<c.length;e++){let t=document.querySelector(`[data-x="${c[e][0]}"][data-y="${c[e][1]}"]`);setTimeout((()=>{var n;n=c[e][0],r.style.right=12.5*(8-n)+"%",setTimeout((()=>{var n;t.innerText=e+1,t.classList.add("visited"),n=c[e][1],r.style.top=12.5*(8-n)+"%"}),400)}),2*l),l+=500}setTimeout((()=>{e.querySelector("#knight").style.transform="scale(0.5)",setTimeout((()=>{r.style.transform+="rotateY(180deg)",r.style.right=parseInt(r.style.right)-2+"%",document.querySelector(`[data-x="${i}"][data-y="${o}"]`).style.paddingRight="20px"}),500)}),2*l)}})),document.querySelector("#clear-board-btn").addEventListener("click",(function(){e.querySelector("#knight")&&e.querySelector("#knight").remove(),e.querySelector("#end_pos")&&e.querySelector("#end_pos").remove(),document.querySelectorAll(".square").forEach((e=>{e.classList.remove("visited"),e.innerText="",e.style.paddingRight="0px"}))}))})();